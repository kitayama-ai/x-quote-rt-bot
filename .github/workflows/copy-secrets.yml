name: "Copy Secrets to Mini Repo"

on:
  workflow_dispatch:

jobs:
  copy:
    runs-on: ubuntu-latest
    permissions:
      contents: read

    steps:
      - name: Copy secrets to x-quote-rt-mini
        env:
          GH_TOKEN: ${{ secrets.GITHUB_TOKEN }}
          X_API_KEY: ${{ secrets.X_API_KEY }}
          X_API_SECRET: ${{ secrets.X_API_SECRET }}
          X_ACCOUNT_1_ACCESS_TOKEN: ${{ secrets.X_ACCOUNT_1_ACCESS_TOKEN }}
          X_ACCOUNT_1_ACCESS_SECRET: ${{ secrets.X_ACCOUNT_1_ACCESS_SECRET }}
          TWITTER_BEARER_TOKEN: ${{ secrets.TWITTER_BEARER_TOKEN }}
          GEMINI_API_KEY: ${{ secrets.GEMINI_API_KEY }}
        run: |
          echo "ðŸ”‘ Copying secrets to kitayama-ai/x-quote-rt-mini..."

          echo "$X_API_KEY" | gh secret set X_API_KEY -R kitayama-ai/x-quote-rt-mini
          echo "  âœ… X_API_KEY"

          echo "$X_API_SECRET" | gh secret set X_API_SECRET -R kitayama-ai/x-quote-rt-mini
          echo "  âœ… X_API_SECRET"

          echo "$X_ACCOUNT_1_ACCESS_TOKEN" | gh secret set X_ACCOUNT_1_ACCESS_TOKEN -R kitayama-ai/x-quote-rt-mini
          echo "  âœ… X_ACCOUNT_1_ACCESS_TOKEN"

          echo "$X_ACCOUNT_1_ACCESS_SECRET" | gh secret set X_ACCOUNT_1_ACCESS_SECRET -R kitayama-ai/x-quote-rt-mini
          echo "  âœ… X_ACCOUNT_1_ACCESS_SECRET"

          echo "$TWITTER_BEARER_TOKEN" | gh secret set TWITTER_BEARER_TOKEN -R kitayama-ai/x-quote-rt-mini
          echo "  âœ… TWITTER_BEARER_TOKEN"

          echo "$GEMINI_API_KEY" | gh secret set GEMINI_API_KEY -R kitayama-ai/x-quote-rt-mini
          echo "  âœ… GEMINI_API_KEY"

          echo ""
          echo "ðŸŽ‰ All secrets copied!"
